+++
tags  = ["letters"]
title = "Open Domain-Specific Architecture"
date  = "2019-10-10 06:10:15"
+++
<p>OCP のサイトをみていたらこんなアナウンスがあった:</p><p><ul>
    <li><a href="https://www.opencompute.org/blog/new-open-domain-specific-architecture-sub-project-to-launch">New Open Domain-Specific Architecture sub-project to launch within the OCP Server Project. » Open Compute Project</a></li>
</ul></p><p>関連 PDF:</p><p><ul>
    <li><a href="https://www.netronome.com/m/documents/WP_Heavy_Reading_ODSA.pdf">Open Domain-Specific Accelerators: What They Are &amp; Why They Should Matter to Cloud &amp; Network Providers</a></li>
    <li><a href="https://www.netronome.com/m/documents/WP_ODSA_Open_Accelerator_Architecture_wqLcezt.pdf">The Open Domain-Specific Architecture: A Chiplet-Based Open Architecture</a></li>
</ul></p><p>OCP は言ってみればデータセンターで使うハードウェア CPU とかの「入れ物」を標準化、公開するプロジェクトだった。たとえばラックであったりシャーシであったり、あるいはもうちょっと踏み込んでネットワークスイッチであったり。加えて NIC のようなわりかしコモディティ化しがちなハードウェアの設計も提供している。こいつらは組み合わせて使えることが期待されている。(<a href="https://www.opencompute.org/products">OCP ベースの製品一覧</a>。)</p><p>ODSA はその SoC 版といえる。従来の OCP は、たとえば CPU や GPU のような知財は普通に Intel なり NVIDIA から買ってきていた。OSDA も SoC の個々のコンポーネントは世間で売られているものなり自社開発したものを使う。ただしそれをパッケージングするための標準を決めたい。</p><p>キーとなる意思決定が Chiplet の利用. Snapdragon のような SoC は複数のコンポーネントを一つの ASIC にギュっと詰め込んで、一つのプロセスで彫り出す。一方、OSDA では個々の機能単位を "Chiplet" として独立に製造し、それを <a href="https://en.wikipedia.org/wiki/Multi-chip_module">multi-chip module</a> としてインテグレートする。Monolithic Service に対する Microservices みたいなもん。なので先に SoC と書いたけど違う気がする。System-on-Chip じゃない。</p><p>Chiplet はコンポーネント毎に異なる製造プロセスを使えるしそもそも違うベンダーから買えるし、ダイを切り出す単位が小さくなるので歩留まりもよくなる。一方で Chiplet 間をつなぐのは大変だし電力も多くなりがち。なのでその欠点を小さくするようなデザインを標準化して、標準にのっかった Chiplet ならぱぱっと組み合わせられるようにしましょうね、そうすれば Domain Specific Architecture のチップを作って売り買いしやすくなるでしょと主張する。</p><p><hr /></p><p>言われてみると DSA のチップを作っても単品では使い物にならないので SoC を作ってる人々に売り込むなり自分でフル機能の SoC を作る必要があるわけで、なかなか大変。コアのビジネスに集中するために周辺は標準化のうえコモディティ化したい。</p><p>じっさい OSDA を提案しているのは <a href="https://www.netronome.com">Netronome</a> という NIC を売っている会社のひと。eBPF を実行できる DSA をつくったりしているらしい。こういうのを NIC なりサーバの中なりに配備する際、OSDA のような標準があると嬉しいのだろう。そこに NN accelerator を OCP でつくりたい Facebook などが乗っかってきたという構図。</p><p>いまは掛け声ドキュメントしかないので、2-3 年たったころにまた冷やかしてみたい所存。</p><p><hr /></p><p><a href="https://www.netronome.com/m/documents/WP_ODSA_Open_Accelerator_Architecture_wqLcezt.pdf">掛け声ドキュメント自体</a>は DSA に限らず従来の accelerator の現状をざっくり説明していて面白かった。たとえば <a href="https://cseweb.ucsd.edu/~mbtaylor/papers/Taylor_Bitcoin_IEEE_Computer_2017.pdf">cyrptcurrency とか冗談ではなくほんとに ASIC でやってる</a>のだなとか、アカデミアでは Near Memory Computing というのがはやってるらしいとか (<a href="https://arxiv.org/abs/1802.00320">1</a>, <a href="https://arxiv.org/abs/1903.03988">2</a>). たまに普段と毛色の違うものを読むと発見が多くて良い。</p><p><hr /></p><p><h3>2019/11 追記</h3></p><p>Chiplet は 2018 年に AMD が採用したことで話題になっていた</p><p><ul>
    <li><a href="https://www.wired.com/story/keep-pace-moores-law-chipmakers-turn-chiplets/">To Keep Pace With Moore's Law, Chipmakers Turn to 'Chiplets' | WIRED</a></li>
</ul></p>
