+++
tags  = ["ef"]
title = "Echo Fairy"
date  = "2017-03-09 23:22:44"
+++
<p>育児休暇中の息抜きにボイスレコーダーのアプリを書いている。</p><p>最初のコミットから一ヶ月くらい経ったこの頃、ようやく dogfood できるようになってきた。たぶん本気の Android プログラマだったら三日くらいでできる仕事なのだけれど、まあ実力がないので時間がかかるのだった。x1/10 プログラマってかんじか・・・。</p><p>目的としては、英語の音読や音声教材の repeating などで自分の発声を聞きたい。しかもすぐに聞きたい。そして繰り返し同じフレーズを練習したりしたい。</p><p>そこでアプリの起動中ずっとマイクから音を拾い、なにか喋ったぽい塊を検出して喋り終わったら（静音区間があったら）その喋ったぽい塊の音声を即座に再生するコードを書いた。つまり声が始まったら録音を初めて、声が終わったら録音を終えて、その場ですぐ再生する。</p><p>UI をどうしたものかと考えてた結果、かっこいい画面を作れる技能もないし操作の必要も少ないから画面はナシで notification にだけ常駐すればいいかな、という気がしてきた。オーディオ系のアプリってだいたい notification としてミニコントロールが出てくるけど、そこだけあるかんじ。草葉の影でコダマをささやくので Echo Fairy と命名。</p><p>試してみると静音区間の判定や UI の工夫がまだまだ必要とわかった。でも常駐してエコーしてくれる挙動自体は悪くない気がする。しばらく手直ししつつ使ってみたい。</p><p><hr /></p><p>なお自分の発音がどうだったかというと、やばい。予期していたこととはいえ、こりゃ聞き取れんわ。同僚たちすまぬ。</p><p>もう一つの発見としては、自分の声を聞いてダメとわかっても正しい発音に近づける方法がわからないということ。まずは発音の教材を Echo Fairy と共にやり直そうかな。</p>
